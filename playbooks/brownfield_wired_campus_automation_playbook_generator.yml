---
# ===================================================================================================
# BROWNFIELD WIRED CAMPUS AUTOMATION PLAYBOOK GENERATOR - EXAMPLE PLAYBOOK
# ===================================================================================================
#
# This playbook demonstrates comprehensive usage examples for the Brownfield Wired Campus
# Automation Playbook Generator module. It includes various scenarios for generating YAML
# configurations from existing network infrastructure with different filtering options.
#
# ===================================================================================================

- name: Cisco DNA Center Brownfield Wired Campus Automation Playbook Generator Examples
  hosts: dnac_servers
  gather_facts: false
  vars_files:
    - "credentials.yml"
  vars:
    # DNA Center connection parameters
    dnac_login: &dnac_login
      dnac_host: "{{ dnac_host }}"
      dnac_username: "{{ dnac_username }}"
      dnac_password: "{{ dnac_password }}"
      dnac_verify: "{{ dnac_verify }}"
      dnac_port: "{{ dnac_port }}"
      dnac_version: "{{ dnac_version }}"
      dnac_debug: "{{ dnac_debug }}"
      dnac_log: true
      dnac_log_level: INFO
      dnac_log_append: false
      config_verify: true

  tasks:
    # =============================================================================
    # COMPLETE INFRASTRUCTURE CONFIGURATION GENERATION
    # =============================================================================

    - name: "EXAMPLE: Auto-generate YAML Configuration for all devices and features"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - generate_all_configurations: true
      register: result_generate_all
      tags: [generate_all, complete]

    - name: "EXAMPLE: Auto-generate YAML Configuration with custom file path"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/complete_infrastructure_config.yml"
      register: result_custom_path
      tags: [generate_all, custom_path]

    # =============================================================================
    # DEVICE FILTERING BY IP ADDRESS
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration with specific devices by IP address"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/wired_campus_automation_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10", "192.168.1.11", "192.168.1.12"]
      register: result_ip_filter
      tags: [device_filtering, ip_address]

    - name: "EXAMPLE: Generate configuration for single device by IP"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/single_device_config.yml"
            global_filters:
              ip_address_list: ["204.1.2.3"]
      register: result_single_ip
      tags: [device_filtering, single_device]

    # =============================================================================
    # DEVICE FILTERING BY HOSTNAME
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration with specific devices by hostname"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/hostname_based_config.yml"
            global_filters:
              hostname_list: ["switch01.lab.com", "switch02.lab.com", "core-switch-01"]
      register: result_hostname_filter
      tags: [device_filtering, hostname]

    - name: "EXAMPLE: Generate configuration for core switches only"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/core_switches_config.yml"
            global_filters:
              hostname_list: ["core-switch-01.lab.com", "core-switch-02.lab.com"]
      register: result_core_switches
      tags: [device_filtering, core_switches]

    # =============================================================================
    # DEVICE FILTERING BY SERIAL NUMBER
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration with specific devices by serial number"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/serial_based_config.yml"
            global_filters:
              serial_number_list: ["FCW2140L05Y", "FCW2140L06Z", "9080V0I41J3"]
      register: result_serial_filter
      tags: [device_filtering, serial_number]

    # =============================================================================
    # MIXED DEVICE IDENTIFICATION (AND LOGIC)
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration with mixed device identification (AND logic)"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/mixed_device_filter_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10", "192.168.1.11"]
              hostname_list: ["switch03.lab.com"]
              serial_number_list: ["FCW2140L05Y"]
      register: result_mixed_filter
      tags: [device_filtering, mixed_identification]

    # =============================================================================
    # COMPONENT-SPECIFIC FILTERING (USING COMPONENTS_LIST)
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration using explicit components list"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/layer2_only_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10", "192.168.1.11"]
            component_specific_filters:
              components_list: ["layer2_configurations"]
      register: result_components_list
      tags: [component_filtering, layer2_only]

    - name: "EXAMPLE: Generate YAML Configuration with components list and specific features"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/layer2_specific_features_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10"]
            component_specific_filters:
              components_list: ["layer2_configurations"]
              layer2_configurations:
                layer2_features: ["vlans", "stp", "cdp"]
      register: result_components_with_features
      tags: [component_filtering, specific_features]

    - name: "EXAMPLE: Generate YAML Configuration for all features using components list"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/all_layer2_features_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10"]
            component_specific_filters:
              components_list: ["layer2_configurations"]
      register: result_all_layer2_features
      tags: [component_filtering, all_features]

    # =============================================================================
    # FEATURE-SPECIFIC FILTERING
    # =============================================================================

    - name: "EXAMPLE: Auto-generate YAML Configuration for specific features only"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/security_only_config.yml"
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["dhcp_snooping", "igmp_snooping", "authentication"]
      register: result_security_features
      tags: [feature_filtering, security]

    - name: "EXAMPLE: Generate YAML Configuration for specific layer2 features only"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/protocol_features_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["vlans", "stp", "cdp"]
      register: result_protocol_features
      tags: [feature_filtering, protocols]

    # =============================================================================
    # VLAN-SPECIFIC FILTERING
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration for VLANs only"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/vlans_only_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10", "192.168.1.11"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["vlans"]
      register: result_vlans_only
      tags: [vlan_filtering, vlans_only]

    - name: "EXAMPLE: Generate YAML Configuration for specific VLANs"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/specific_vlans_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["vlans"]
                vlans:
                  vlan_ids_list: ["10", "20", "100", "200"]
      register: result_specific_vlans
      tags: [vlan_filtering, specific_vlans]

    - name: "EXAMPLE: Generate YAML Configuration for production VLANs"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/production_vlans_config.yml"
            global_filters:
              hostname_list: ["prod-switch-01", "prod-switch-02"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["vlans"]
                vlans:
                  vlan_ids_list: ["100", "200", "300"]
      register: result_production_vlans
      tags: [vlan_filtering, production]

    # =============================================================================
    # INTERFACE-SPECIFIC FILTERING
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration for specific interfaces"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/specific_interfaces_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["port_configuration"]
                port_configuration:
                  interface_names_list: 
                    - "GigabitEthernet1/0/1"
                    - "GigabitEthernet1/0/2"
                    - "TenGigabitEthernet1/0/1"
      register: result_specific_interfaces
      tags: [interface_filtering, specific_ports]

    - name: "EXAMPLE: Generate configuration for uplink interfaces only"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/uplink_interfaces_config.yml"
            global_filters:
              hostname_list: ["access-switch-01", "access-switch-02"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["port_configuration"]
                port_configuration:
                  interface_names_list:
                    - "GigabitEthernet1/0/23"
                    - "GigabitEthernet1/0/24"
                    - "TenGigabitEthernet1/0/1"
                    - "TenGigabitEthernet1/0/2"
      register: result_uplink_interfaces
      tags: [interface_filtering, uplinks]

    # =============================================================================
    # PROTOCOL-SPECIFIC CONFIGURATIONS
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration for protocol features"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/protocol_features_config.yml"
            global_filters:
              hostname_list: ["switch01.lab.com", "switch02.lab.com"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["cdp", "lldp", "stp", "vtp"]
      register: result_protocol_config
      tags: [protocol_filtering, discovery_protocols]

    - name: "EXAMPLE: Generate configuration for STP features only"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/stp_only_config.yml"
            global_filters:
              serial_number_list: ["FCW2140L05Y", "FCW2140L06Z"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["stp"]
      register: result_stp_only
      tags: [protocol_filtering, stp]

    # =============================================================================
    # SECURITY FEATURES CONFIGURATION
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration for security features"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/security_features_config.yml"
            global_filters:
              serial_number_list: ["FCW2140L05Y", "FCW2140L06Z"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["dhcp_snooping", "igmp_snooping", "authentication"]
      register: result_security_config
      tags: [security_filtering, security_features]

    - name: "EXAMPLE: Generate configuration for authentication features only"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/authentication_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10", "192.168.1.11"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["authentication"]
      register: result_authentication_only
      tags: [security_filtering, authentication]

    # =============================================================================
    # COMPREHENSIVE FILTERING COMBINATIONS
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration with comprehensive filtering"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/comprehensive_filtered_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10", "192.168.1.11"]
            component_specific_filters:
              components_list: ["layer2_configurations"]
              layer2_configurations:
                layer2_features: ["vlans", "stp", "port_configuration"]
                vlans:
                  vlan_ids_list: ["10", "20", "100"]
                port_configuration:
                  interface_names_list:
                    - "GigabitEthernet1/0/1"
                    - "GigabitEthernet1/0/24"
      register: result_comprehensive_filtering
      tags: [comprehensive, multi_filter]

    - name: "EXAMPLE: Generate YAML Configuration with all available components (future-proof)"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/all_components_config.yml"
            global_filters:
              ip_address_list: ["192.168.1.10", "192.168.1.11"]
            component_specific_filters:
              components_list: ["layer2_configurations"]
              layer2_configurations:
                layer2_features: 
                  - "vlans"
                  - "cdp" 
                  - "lldp"
                  - "stp"
                  - "vtp"
                  - "dhcp_snooping"
                  - "igmp_snooping"
                  - "mld_snooping"
                  - "authentication"
                  - "logical_ports"
                  - "port_configuration"
      register: result_all_components
      tags: [comprehensive, all_components]

    # =============================================================================
    # DEFAULT FILE PATH SCENARIOS
    # =============================================================================

    - name: "EXAMPLE: Generate YAML Configuration with default file path"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - global_filters:
              ip_address_list: ["192.168.1.10"]
      register: result_default_path
      tags: [default_settings, default_path]

    - name: "EXAMPLE: Generate configuration for lab environment with defaults"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - global_filters:
              hostname_list: ["lab-switch-01.test.com", "lab-switch-02.test.com"]
      register: result_lab_default
      tags: [lab_environment, defaults]

    # =============================================================================
    # SPECIALIZED USE CASES
    # =============================================================================

    - name: "EXAMPLE: Generate configuration for campus distribution layer"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/distribution_layer_config.yml"
            global_filters:
              hostname_list: ["dist-switch-01", "dist-switch-02"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["vlans", "stp", "vtp", "logical_ports"]
                vlans:
                  vlan_ids_list: ["10", "20", "30", "40", "100", "200"]
      register: result_distribution_layer
      tags: [campus_network, distribution]

    - name: "EXAMPLE: Generate configuration for access layer switches"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/access_layer_config.yml"
            global_filters:
              hostname_list: ["access-sw-01", "access-sw-02", "access-sw-03"]
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["vlans", "authentication", "dhcp_snooping", "port_configuration"]
                vlans:
                  vlan_ids_list: ["10", "20", "100", "200"]
                port_configuration:
                  interface_names_list:
                    - "GigabitEthernet1/0/1"
                    - "GigabitEthernet1/0/2"
                    - "GigabitEthernet1/0/3"
                    - "GigabitEthernet1/0/4"
      register: result_access_layer
      tags: [campus_network, access_layer]

    - name: "EXAMPLE: Generate configuration for specific building infrastructure"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/building_a_config.yml"
            global_filters:
              hostname_list: 
                - "bldg-a-dist-01"
                - "bldg-a-acc-01"
                - "bldg-a-acc-02"
                - "bldg-a-acc-03"
            component_specific_filters:
              components_list: ["layer2_configurations"]
              layer2_configurations:
                layer2_features: ["vlans", "cdp", "lldp", "stp", "authentication", "port_configuration"]
      register: result_building_config
      tags: [building_specific, infrastructure]

    # =============================================================================
    # MAINTENANCE AND AUDIT SCENARIOS
    # =============================================================================

    - name: "EXAMPLE: Generate audit configuration for compliance review"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/compliance_audit_config.yml"
            global_filters:
              ip_address_list: 
                - "192.168.1.10"
                - "192.168.1.11" 
                - "192.168.1.12"
                - "192.168.1.13"
            component_specific_filters:
              layer2_configurations:
                layer2_features: ["authentication", "dhcp_snooping", "igmp_snooping"]
      register: result_compliance_audit
      tags: [maintenance, audit, compliance]

    - name: "EXAMPLE: Generate backup configuration for disaster recovery"
      cisco.dnac.brownfield_wired_campus_automation_playbook_generator:
        <<: *dnac_login
        state: merged
        config:
          - file_path: "/tmp/dr_backup_config.yml"
            global_filters:
              serial_number_list: 
                - "FCW2140L05Y"
                - "FCW2140L06Z"
                - "9080V0I41J3"
                - "FCW2140L07A"
            component_specific_filters:
              components_list: ["layer2_configurations"]
      register: result_dr_backup
      tags: [maintenance, disaster_recovery, backup]
